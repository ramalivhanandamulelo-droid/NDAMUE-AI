<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAM'S AI Assistant</title>
<style>
  body {
    background: radial-gradient(circle at center, #0f2027, #203a43, #2c5364);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    height: 100vh; margin: 0; color: white; font-family: Arial, sans-serif;
  }
  h1 { margin-bottom: 20px; }
  .orb {
    width: 150px; height: 150px; border-radius: 50%;
    background: radial-gradient(circle, #00f5ff, #006d77);
    box-shadow: 0 0 30px #00f5ff, 0 0 60px #00f5ff;
    margin: 20px auto;
    animation: idle 2s infinite;
  }
  @keyframes idle {
    0% { transform: scale(1); box-shadow: 0 0 20px #00f5ff; }
    50% { transform: scale(1.05); box-shadow: 0 0 40px #00f5ff; }
    100% { transform: scale(1); box-shadow: 0 0 20px #00f5ff; }
  }
  @keyframes listening {
    0% { transform: scale(1); box-shadow: 0 0 20px lime; }
    50% { transform: scale(1.15); box-shadow: 0 0 50px lime; }
    100% { transform: scale(1); box-shadow: 0 0 20px lime; }
  }
  #activateBtn {
    padding: 12px 30px; font-size: 1.2rem;
    border: none; border-radius: 10px; background: #00f5ff; color: #000;
    font-weight: bold; cursor: pointer;
  }
  #activateBtn:hover { background: #00d4e0; }
</style>
</head>
<body>
<h1>ðŸ¤– RAM'S AI Assistant</h1>
<div class="orb" id="orb"></div>
<button id="activateBtn">Activate RAM'S</button>

<script>
const OPENAI_API_KEY = "sk-proj-xxxxxxxx"; // replace with your key
const orb = document.getElementById("orb");
const activateBtn = document.getElementById("activateBtn");

// quick fallback answers
const fallbackReplies = [
  "I'm doing great, NDAMUE RAMS!",
  "RAM'S AI at your service!",
  "Hello there!",
  "My creator is NDAMUE RAMS, the one and only!"
];

async function askOpenAI(question) {
  if (/who.*(creator|owner)/i.test(question)) {
    return "My creator and owner is NDAMUE RAMS.";
  }
  try {
    const res = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${OPENAI_API_KEY}`
      },
      body: JSON.stringify({
        model: "gpt-4o-mini",
        messages: [
          { role: "system", content: "You are RAM'S AI, a fast, friendly assistant created by NDAMUE RAMS. Always answer clearly and directly." },
          { role: "user", content: question }
        ]
      })
    });
    const data = await res.json();
    if (data.choices && data.choices[0].message.content) {
      return data.choices[0].message.content;
    } else throw new Error("Empty response");
  } catch {
    return fallbackReplies[Math.floor(Math.random() * fallbackReplies.length)];
  }
}

function speak(text,callback){
  const utterance=new SpeechSynthesisUtterance(text);
  utterance.voice=speechSynthesis.getVoices()[0];
  utterance.pitch=1.1; utterance.rate=1;
  utterance.onend=callback;
  speechSynthesis.speak(utterance);
}

async function handleQuestion(question){
  orb.style.animation="listening 1s infinite";
  const answer=await askOpenAI(question);
  speak(answer,()=>startListening());
}

function startListening(){
  const recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition)();
  recognition.lang="en-US";
  orb.style.animation="listening 1s infinite";
  recognition.start();

  recognition.onresult=function(event){
    const question=event.results[0][0].transcript;
    orb.style.animation="idle 2s infinite";
    handleQuestion(question);
  }

  recognition.onerror=()=>{
    orb.style.animation="idle 2s infinite";
    setTimeout(()=>startListening(),2000);
  }
}

// activate button click
activateBtn.onclick=()=>{
  activateBtn.style.display="none";
  orb.style.marginTop="0"; // orb stays in centre
  const welcome="RAM'S AI active. How can I assist you NDAMUE RAMS?";
  speak(welcome,()=>startListening());
}
</script>
</body>
</html>
