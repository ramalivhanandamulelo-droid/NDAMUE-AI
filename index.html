<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAM'S Desktop-Level AI</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body {margin:0;font-family:'Roboto',sans-serif;background:linear-gradient(135deg,#1f1c2c,#928dab);display:flex;justify-content:center;align-items:center;height:100vh;color:#fff;}
.assistant-container{background:rgba(0,0,0,0.85);padding:30px 40px;border-radius:20px;text-align:center;width:90%;max-width:600px;box-shadow:0 0 40px rgba(0,0,0,0.5);}
h1{margin-bottom:10px;font-size:2em;color:#ffd700;}
p{font-size:1.1em;margin-bottom:20px;}
button{background:#4CAF50;color:white;border:none;padding:12px 25px;font-size:16px;cursor:pointer;border-radius:8px;margin:5px;}
button.stop{background:#f44336;}
button:hover{opacity:0.9;}
#log{background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;max-height:400px;overflow-y:auto;margin-top:20px;text-align:left;}
.user{color:#00ffff;margin-bottom:5px;}
.rams{color:#ff69b4;margin-bottom:10px;}
.thinking{font-style:italic;color:#ccc;margin-bottom:10px;}
</style>
</head>
<body>
<div class="assistant-container">
<h1>üëã RAM'S Desktop-Level AI</h1>
<p>Say "Hey RAM'S" to activate or use Start/Stop buttons.</p>
<button id="startBtn">üé§ Start RAM'S</button>
<button id="stopBtn" class="stop">‚èπ Stop RAM'S</button>
<div id="log"></div>
</div>

<script>
const OPENAI_API_KEY="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";
const log=document.getElementById("log");
let recognition=null;
let active=false;

const instantCommands=[
  {keywords:["who is your owner","who created you","who is your creator"],reply:"NDAMUE RAMS"},
  {keywords:["hello","hi"],reply:"Hello! I am RAM'S, your AI assistant."},
  {keywords:["how are you"],reply:"I am fine, thanks for asking!"}
];

const actionCommands=[
  {keywords:["open google"],action:()=>window.open("https://www.google.com","_blank")},
  {keywords:["open youtube"],action:()=>window.open("https://www.youtube.com","_blank")},
  {keywords:["show time","current time"],action:()=>{const t=new Date().toLocaleTimeString();speak("The time is "+t);appendLog(`RAM'S: The time is ${t}`,'rams');}},
  {keywords:["show date","current date"],action:()=>{const d=new Date().toLocaleDateString();speak("Today's date is "+d);appendLog(`RAM'S: Today's date is ${d}`,'rams');}},
  {keywords:["open my website"],action:()=>window.open("http://68bf1b3bf0b8f.site123.me","_blank")},
  {keywords:["search for"],action:(transcript)=>{let query=transcript.toLowerCase().split("search for")[1].trim();if(query){window.open("https://www.google.com/search?q="+encodeURIComponent(query),"_blank");speak(`Searching for ${query}`);appendLog(`RAM'S: Searching for ${query}`,'rams');}}}
];

const startBtn=document.getElementById("startBtn");
const stopBtn=document.getElementById("stopBtn");

startBtn.addEventListener("click",()=>{if(!active){startAssistant();active=true;speak("RAM'S AI ACTIVE");}});
stopBtn.addEventListener("click",()=>{if(active&&recognition){recognition.stop();active=false;speak("RAM'S AI DEACTIVATED");}});

function startAssistant(){
const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
recognition=new SpeechRecognition();
recognition.continuous=true;
recognition.lang='en-US';
recognition.interimResults=false;

recognition.onresult=async(event)=>{
  const transcript=event.results[event.results.length-1][0].transcript.trim();
  appendLog(`You: ${transcript}`,'user');

  // Wake-word check
  if(!transcript.toLowerCase().includes("hey rams")) return;

  // Check action commands first
  for(const cmd of actionCommands){
    if(cmd.keywords.some(k=>transcript.toLowerCase().includes(k))){cmd.action(transcript);return;}
  }

  // Instant commands
  const matched=instantCommands.find(cmd=>cmd.keywords.some(k=>transcript.toLowerCase().includes(k)));
  if(matched){speak(matched.reply);appendLog(`RAM'S: ${matched.reply}`,'rams');return;}

  // Show thinking indicator
  const thinkingDiv=document.createElement('div');
  thinkingDiv.textContent="RAM'S is thinking...";
  thinkingDiv.className="thinking";
  log.appendChild(thinkingDiv);
  log.scrollTop=log.scrollHeight;

  fetchOpenAI(transcript).then(answer=>{
    speak(answer);
    log.removeChild(thinkingDiv);
    appendLog(`RAM'S: ${answer}`,'rams');
  }).catch(()=>{
    const errorMsg="Sorry, I couldn't get an answer right now.";
    log.removeChild(thinkingDiv);
    speak(errorMsg);
    appendLog(`RAM'S: ${errorMsg}`,'rams');
  });
};

recognition.onerror=(event)=>{console.error("Recognition error:",event.error);recognition.stop();if(active)setTimeout(()=>recognition.start(),500);}
recognition.onend=()=>{if(active)recognition.start();}
recognition.start();
}

async function fetchOpenAI(question){
const response=await fetch("https://api.openai.com/v1/chat/completions",{
method:"POST",
headers:{"Content-Type":"application/json","Authorization":`Bearer ${OPENAI_API_KEY}`},
body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:question}],temperature:0.7})
});
const data=await response.json();
return data.choices[0].message.content;
}

function speak(text){
const utterance=new SpeechSynthesisUtterance(text);
utterance.rate=1;
utterance.pitch=1;
speechSynthesis.speak(utterance);
}

function appendLog(text,type){
const div=document.createElement('div');
div.textContent=text;
div.className=type;
log.appendChild(div);
log.scrollTop=log.scrollHeight;
}
</script>
</body>
</html>
