<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAM'S GPT Twin</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background:#202123; color:#fff; display:flex; flex-direction:column; height:100vh; }
header { padding:10px 20px; background:#343541; display:flex; align-items:center; gap:10px; }
header h1 { margin:0; font-size:1.2rem; }
#chat { flex:1; padding:10px; overflow-y:auto; display:flex; flex-direction:column; gap:10px; }
.message { padding:10px 15px; border-radius:10px; max-width:70%; word-wrap:break-word; }
.user { background:#10a37f; color:#fff; align-self:flex-end; }
.ai { background:#444654; color:#fff; align-self:flex-start; position:relative; }
.typing { font-style:italic; opacity:0.7; }
#inputArea { display:flex; padding:10px; background:#343541; gap:5px; }
#textInput { flex:1; padding:10px; border-radius:8px; border:none; font-size:1rem; background:#40414f; color:#fff; }
#sendBtn { padding:10px 15px; border:none; border-radius:8px; background:#10a37f; color:#fff; font-weight:bold; cursor:pointer; }
.orb { width:40px; height:40px; border-radius:50%; background: radial-gradient(circle,#00f5ff,#006d77); box-shadow:0 0 20px #00f5ff,0 0 40px #00f5ff; cursor:pointer; }
</style>
</head>
<body>
<header>
  <div class="orb" id="orb"></div>
  <h1>RAM'S GPT Twin</h1>
</header>
<div id="chat"></div>
<div id="inputArea">
  <input type="text" id="textInput" placeholder="Type a message..." />
  <button id="sendBtn">Send</button>
</div>

<script>
const chatDiv = document.getElementById("chat");
const textInput = document.getElementById("textInput");
const sendBtn = document.getElementById("sendBtn");
const orb = document.getElementById("orb");

let voices = [];
speechSynthesis.onvoiceschanged = ()=>{ voices=speechSynthesis.getVoices(); };

// Conversation memory
let messages = [];

// Add message to chat
function addMessage(text,sender){
  const div=document.createElement("div");
  div.className="message "+sender;
  div.innerText=text;
  chatDiv.appendChild(div);
  chatDiv.scrollTop=chatDiv.scrollHeight;
}

// Simulate AI thinking with typing effect
function typingEffect(text, callback){
  const div=document.createElement("div");
  div.className="message ai typing";
  chatDiv.appendChild(div);
  let i=0;
  const interval=setInterval(()=>{
    div.innerText=text.substring(0,i+1)+"â–Œ";
    i++;
    if(i>=text.length){
      clearInterval(interval);
      div.classList.remove("typing");
      div.innerText=text;
      chatDiv.scrollTop=chatDiv.scrollHeight;
      callback();
    }
    chatDiv.scrollTop=chatDiv.scrollHeight;
  },25);
}

// Mock AI response (twin of ChatGPT)
async function getAIResponse(question){
  // Here we simulate intelligence for demo
  // You can later replace this with real OpenAI API calls
  const lower=question.toLowerCase();
  if(lower.includes("hello")) return "Hello! How can I assist you today?";
  if(lower.includes("how are you")) return "I'm just code, but thanks for asking! How about you?";
  if(lower.includes("your name")) return "I am RAM'S GPT Twin, your smart AI assistant.";
  if(lower.includes("creator") || lower.includes("owner")) return "My creator is NDAMUE RAMS.";
  // Default demo response
  return "I hear you! Let's pretend I'm a smart AI like ChatGPT and answer everything!";
}

// Handle user input
async function sendMessage(){
  const question=textInput.value.trim();
  if(!question) return;
  addMessage(question,"user");
  textInput.value="";
  const answer = await getAIResponse(question);
  typingEffect(answer, ()=>{ speech(answer); });
}

// Voice output
function speech(text){
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.voice = voices[0]||null;
  utterance.pitch=1.1; utterance.rate=1;
  speechSynthesis.speak(utterance);
}

// Voice input on orb click
function startListening(){
  const recognition = new (window.SpeechRecognition||window.webkitSpeechRecognition)();
  recognition.lang="en-US";
  recognition.start();
  recognition.onresult = async e=>{
    const question = e.results[0][0].transcript;
    addMessage(question,"user");
    const answer = await getAIResponse(question);
    typingEffect(answer, ()=>{ speech(answer); });
  }
  recognition.onerror=()=>{ console.log("Speech recognition error"); }
}

orb.onclick=startListening;
sendBtn.onclick=sendMessage;
textInput.addEventListener("keydown", e=>{ if(e.key==="Enter") sendMessage(); });

</script>
</body>
</html>
