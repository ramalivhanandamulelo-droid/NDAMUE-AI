<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAMS AI Pro - Full ChatGPT Clone</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#202123;color:#e8e8e8;display:flex;height:100vh;overflow:hidden;}
#sidebar{width:300px;background:#343541;display:flex;flex-direction:column;padding:10px;overflow-y:auto;transition:transform 0.3s;}
#sidebar h2{margin:0 0 10px 0;font-size:1.2rem;text-align:center;}
#sidebar button,#mode-select{margin:5px 0;padding:8px;border:none;border-radius:5px;background:#0b93f6;color:#fff;cursor:pointer;width:100%;text-align:left;display:flex;align-items:center;gap:8px;}
#sidebar button:hover,#mode-select:hover{background:#1d4ed8;}
#threads{flex:1;display:flex;flex-direction:column;gap:5px;margin-top:10px;}
.thread-btn{padding:8px;border:none;border-radius:5px;background:#50545e;color:#fff;cursor:pointer;text-align:left;display:flex;align-items:center;gap:8px;transition:0.2s;position:relative;}
.thread-btn.active{background:#0b93f6;}
.thread-btn:hover{background:#0a76c2;}
.thread-preview{font-size:0.8rem;color:#ccc;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.avatar{width:25px;height:25px;border-radius:50%;flex-shrink:0;}
.tool-btn{padding:8px;margin:5px 0;border:none;border-radius:5px;background:#50545e;color:#fff;cursor:pointer;text-align:left;display:flex;align-items:center;gap:8px;}
.tool-btn:hover{background:#0b93f6;}
#main{flex:1;display:flex;flex-direction:column;overflow:hidden;}
#chat{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px;background:#202123;transition:all 0.2s;}
.message{max-width:70%;padding:12px 15px;border-radius:12px;white-space:pre-wrap;position:relative;opacity:0;transform:translateY(20px);animation:pop 0.3s forwards;display:flex;gap:8px;align-items:flex-start;}
.message .timestamp{font-size:0.7rem;color:#888;position:absolute;bottom:-16px;right:10px;}
@keyframes pop{to{opacity:1;transform:translateY(0);}}
.user{background:#0b93f6;color:#fff;margin-left:auto;border-bottom-right-radius:0;}
.ai{background:#444654;color:#e8e8e8;margin-right:auto;border-bottom-left-radius:0;}
#input-area{display:flex;padding:10px;gap:5px;background:#343541;align-items:center;}
#user-input{flex:1;padding:10px;border:none;border-radius:5px;font-size:1rem;background:#40414f;color:#fff;resize:none;}
#user-input::placeholder{color:#bbb;}
button{padding:10px 15px;border:none;border-radius:5px;cursor:pointer;}
#send-btn{background:#0b93f6;color:#fff;}
#send-btn:hover{background:#1d4ed8;}
#voice-btn{background:#10a37f;color:#fff;}
#voice-btn:hover{background:#0f8554;}
.orb{width:35px;height:35px;border-radius:50%;background:radial-gradient(circle,#00f5ff,#006d77);box-shadow:0 0 15px #00f5ff,0 0 30px #00f5ff;cursor:pointer;animation:glow 2s infinite alternate;margin-left:5px;}
@keyframes glow{0%{box-shadow:0 0 10px #00f5ff,0 0 20px #00f5ff;}100%{box-shadow:0 0 25px #00f5ff,0 0 50px #00f5ff;}}
.typing-dots{display:flex;gap:3px;margin-top:5px;}
.dot{width:8px;height:8px;background:#aaa;border-radius:50%;animation:blink 1s infinite;}
.dot:nth-child(2){animation-delay:0.2s;}
.dot:nth-child(3){animation-delay:0.4s;}
@keyframes blink{0%,80%,100%{opacity:0;}40%{opacity:1;}}
.typing-bar{height:2px;background:#0b93f6;animation:typing 1s infinite;margin-top:5px;}
@keyframes typing{0%{width:0;}50%{width:50%;}100%{width:100%;}}
.reactions{display:flex;gap:5px;margin-top:5px;}
.reactions span{cursor:pointer;font-size:1.2rem;}
.reactions span:hover{transform:scale(1.2);}
#mobile-toggle{display:none;position:absolute;top:10px;left:10px;padding:8px;background:#0b93f6;color:#fff;border:none;border-radius:5px;cursor:pointer;z-index:1000;}
@media(max-width:768px){#sidebar{position:absolute;height:100%;transform:translateX(-100%);}#sidebar.show{transform:translateX(0);}#mobile-toggle{display:block;}}
</style>
</head>
<body>
<button id="mobile-toggle">‚ò∞</button>
<div id="sidebar">
<h2>RAMS AI Pro</h2>
<select id="mode-select">
  <option value="Neutral">Neutral</option>
  <option value="Creative">Creative</option>
  <option value="Precise">Precise</option>
  <option value="Funny">Funny</option>
  <option value="Professional">Professional</option>
</select>
<button class="tool-btn" data-tool="code">üíª Code</button>
<button class="tool-btn" data-tool="images">üñºÔ∏è Images</button>
<button class="tool-btn" data-tool="math">üßÆ Math</button>
<button class="tool-btn" data-tool="notes">üìù Notes</button>
<button class="tool-btn" data-tool="jokes">üòÇ Jokes</button>
<button id="new-thread-btn">+ New Chat</button>
<button id="clear-btn">Clear Current</button>
<button id="download-btn">Download Current</button>
<div id="threads"></div>
</div>
<div id="main">
<div id="chat"></div>
<div id="input-area">
  <textarea id="user-input" placeholder="Type your message..." rows="1"></textarea>
  <button id="send-btn">Send</button>
  <button id="voice-btn">üé§ Talk</button>
  <div class="typing-bar" id="typing-bar" style="display:none;"></div>
  <div class="orb"></div>
</div>
</div>
<audio id="send-sound" src="https://freesound.org/data/previews/66/66717_931655-lq.mp3"></audio>

<script>
const OPENAI_API_KEY="YOUR_OPENAI_API_KEY_HERE";
const chat=document.getElementById("chat");
const userInput=document.getElementById("user-input");
const sendBtn=document.getElementById("send-btn");
const voiceBtn=document.getElementById("voice-btn");
const orb=document.querySelector(".orb");
const sendSound=document.getElementById("send-sound");
const typingBar=document.getElementById("typing-bar");
const clearBtn=document.getElementById("clear-btn");
const downloadBtn=document.getElementById("download-btn");
const modeSelect=document.getElementById("mode-select");
const newThreadBtn=document.getElementById("new-thread-btn");
const threadsDiv=document.getElementById("threads");
const toolBtns=document.querySelectorAll(".tool-btn");
const mobileToggle=document.getElementById("mobile-toggle");
const sidebar=document.getElementById("sidebar");

let voices=[]; speechSynthesis.onvoiceschanged=()=>{ voices=speechSynthesis.getVoices(); }
let currentMode="Neutral"; let threadCount=0; let currentThreadId=null; let threads={};
let memory={}; let currentTool="Neutral";

mobileToggle.onclick=()=>{sidebar.classList.toggle("show");}
function getTimestamp(){let d=new Date(); return d.getHours().toString().padStart(2,"0")+":"+d.getMinutes().toString().padStart(2,"0");}

// Threads & Messages
function createThread(name){threadCount++;const id="thread-"+threadCount;threads[id]={messages:[{role:"system",content:"You are RAMS AI, a smart assistant."}]}; memory[id]=[]; const btn=document.createElement("button"); btn.classList.add("thread-btn"); btn.id=id; const avatar=document.createElement("div"); avatar.classList.add("avatar"); avatar.style.background="#0b93f6"; btn.appendChild(avatar); const span=document.createElement("span"); span.textContent=name; btn.appendChild(span); const preview=document.createElement("div"); preview.classList.add("thread-preview"); btn.appendChild(preview); btn.onclick=()=>switchThread(id);threadsDiv.prepend(btn); switchThread(id);}
function switchThread(id){currentThreadId=id;document.querySelectorAll(".thread-btn").forEach(b=>b.classList.remove("active"));document.getElementById(id).classList.add("active");chat.innerHTML="";threads[id].messages.forEach(m=>addMessage(m.content,m.role==="user"?"user":"ai",false,m.timestamp));updateThreadPreview(id);}
function updateThreadPreview(id){const btn=document.getElementById(id); const preview=btn.querySelector(".thread-preview"); const msgs=threads[id].messages; for(let i=msgs.length-1;i>=0;i--){if(msgs[i].role==="assistant"){preview.textContent=msgs[i].content; break;}}}

// Messages
function addMessage(text,sender,save=true,timestamp=null){timestamp=timestamp||getTimestamp();const msg=document.createElement("div"); msg.classList.add("message",sender); const avatar=document.createElement("div"); avatar.classList.add("avatar"); avatar.style.background=sender==="user"?"#0b93f6":"#444654"; msg.appendChild(avatar); const content=document.createElement("div"); content.textContent=text; msg.appendChild(content); const time=document.createElement("div"); time.classList.add("timestamp"); time.textContent=timestamp; msg.appendChild(time); chat.appendChild(msg); addReactions(msg); chat.scrollTop=chat.scrollHeight; sendSound.currentTime=0; sendSound.play(); if(save && currentThreadId){threads[currentThreadId].messages.push({role:sender==="user"?"user":"assistant",content:text,timestamp:timestamp}); updateThreadPreview(currentThreadId);}}
function addReactions(msg){if(msg.classList.contains("ai")){const reactions=document.createElement("div"); reactions.classList.add("reactions"); ["üëç","‚ù§Ô∏è","üòÇ","üòÆ","üò¢","üëè"].forEach(emoji=>{const span=document.createElement("span"); span.textContent=emoji; span.onclick=()=>{alert("You reacted: "+emoji);}; reactions.appendChild(span);}); msg.appendChild(reactions);}}
function addTypingDots(){const msg=document.createElement("div"); msg.classList.add("message","ai"); const avatar=document.createElement("div"); avatar.classList.add("avatar"); avatar.style.background="#444654"; msg.appendChild(avatar); const dots=document.createElement("div"); dots.classList.add("typing-dots"); for(let i=0;i<3;i++){ const dot=document.createElement("div"); dot.classList.add("dot"); dots.appendChild(dot);} msg.appendChild(dots); msg.id="typing-msg"; chat.appendChild(msg); chat.scrollTop=chat.scrollHeight; orb.style.animation="glow 0.5s infinite alternate"; typingBar.style.display="block";}
function removeTypingDots(){const typing=document.getElementById("typing-msg"); if(typing) typing.remove(); orb.style.animation="glow 2s infinite alternate"; typingBar.style.display="none";}
function speak(text){orb.style.animation="glow 0.5s infinite alternate"; const utter=new SpeechSynthesisUtterance(text); utter.voice=voices[0]||null; utter.pitch=1.1; utter.rate=1; utter.onend=()=>{ orb.style.animation="glow 2s infinite alternate"; }; speechSynthesis.speak(utter);}

// AI Responses with Tools
async function askAI(question){
  if(!currentThreadId) createThread("Default");
  threads[currentThreadId].messages.push({role:"user",content:question,timestamp:getTimestamp()});
  addTypingDots();
  removeTypingDots();

  // Tools
  if(currentTool==="math"){ try{ return "Result: "+eval(question); }catch(e){return "Invalid math expression";}}
  if(currentTool==="jokes"){ const jokes=["Why did the chicken cross the road?","I told my computer I needed a break","Why do programmers prefer dark mode?"]; return jokes[Math.floor(Math.random()*jokes.length)];}
  if(currentTool==="notes"){ if(question.toLowerCase().startsWith("note:")){ memory[currentThreadId].push(question.substring(5).trim()); return "Note saved!"; } else if(question.toLowerCase().includes("show notes")){ return memory[currentThreadId].join("\n")||"No notes saved.";}}
  if(currentTool==="code"){ // Explain code
      return await fetch("https://api.openai.com/v1/chat/completions",{method:"POST", headers:{"Content-Type":"application/json","Authorization":`Bearer ${OPENAI_API_KEY}`}, body:JSON.stringify({model:"gpt-4o-mini", messages:[{role:"system",content:"You are a coding assistant. Explain and fix code if needed."},{role:"user",content:question}]})}).then(r=>r.json()).then(d=>d.choices[0].message.content).catch(()=>"Error connecting to GPT API.");}
  if(currentTool==="images"){ // Generate image
      try{
        const res=await fetch("https://api.openai.com/v1/images/generations",{method:"POST", headers:{"Content-Type":"application/json","Authorization":`Bearer ${OPENAI_API_KEY}`}, body:JSON.stringify({model:"gpt-image-1", prompt:question, size:"512x512"})});
        const data=await res.json();
        return data.data && data.data[0].url ? "Image URL: "+data.data[0].url : "Image generation failed.";
      }catch(e){return "Error generating image.";}
  }

  // Default GPT call
  try{
    const res=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST", headers:{"Content-Type":"application/json","Authorization":`Bearer ${OPENAI_API_KEY}`}, body:JSON.stringify({model:"gpt-4o-mini", messages:threads[currentThreadId].messages})});
    const data=await res.json();
    return data.choices[0].message.content;
  }catch(e){return "Error connecting to GPT API.";}
}

// Send handler
async function handleSend(){ const question=userInput.value.trim(); if(!question) return; addMessage(question,"user"); userInput.value=""; userInput.rows=1; const answer=await askAI(question); addMessage(answer,"ai"); speak(answer);}
sendBtn.addEventListener("click",handleSend);
userInput.addEventListener("keypress",e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();handleSend();}});
userInput.addEventListener("input",()=>{userInput.rows=Math.min(5,userInput.value.split("\n").length);});

// Voice
function startListening(){const recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition)();recognition.lang="en-US";recognition.start();recognition.onresult=async e=>{const question=e.results[0][0].transcript;addMessage(question,"user");const answer=await askAI(question);addMessage(answer,"ai");speak(answer);};recognition.onerror=()=>{console.log("Speech recognition error");}}
voiceBtn.onclick=startListening; orb.onclick=startListening;

// Tool buttons
toolBtns.forEach(btn=>{btn.onclick=()=>{currentTool=btn.dataset.tool; addMessage("Switched to "+currentTool+" mode","ai");}});

// Thread buttons
newThreadBtn.onclick=()=>createThread("New Chat");
clearBtn.onclick=()=>{if(currentThreadId){chat.innerHTML=""; threads[currentThreadId].messages=[{role:"system",content:"You are RAMS AI Pro Live, a smart AI assistant created by NDAMUE RAMS."}]; memory[currentThreadId]=[]; updateThreadPreview(currentThreadId);}}
downloadBtn.onclick=()=>{if(!currentThreadId) return; let text=""; threads[currentThreadId].messages.forEach(m=>{text+=(m.role==="user"?"You: ":"RAMS AI: ")+m.content+" ["+m.timestamp+"]\n";}); const blob=new Blob([text],{type:"text/plain"}); const url=URL.createObjectURL(blob); const a=document.createElement("a"); a.href=url; a.download="RAMS_AI_Chat.txt"; a.click(); URL.revokeObjectURL(url);}
modeSelect.addEventListener("change",()=>{currentMode=modeSelect.value; addMessage("Mode switched to "+currentMode,"ai");})

// Init
createThread("Default");
</script>
</body>
</html>
